# C++基础

::: danger 警告
该页面尚未完工!
:::

## 目录

[[toc]]

## 头文件

::: tip 注意

在 C 语言中头文件的扩展名是`.h`，但是 C++中的用法发生了一些变化，对老式 C 的头文件保留了扩展名`.h`，但是 C++自己的文件没有扩展名了。

有些 C 的头文件被转换成 C++头文件，这些文件名被重命名，去掉了`.h`扩展名，并在文件名的前面加上了前缀`c`(表示来自 C 语言)。有时头文件的 C 语言版本和 C++版本相同，而有时候，新版本做了一些修改。

| 头文件类型  |         约定         |      实例      |                    说明                    |
| :---------: | :------------------: | :------------: | :----------------------------------------: |
| C++旧式风格 |      以`.h`结尾      | `<iostream.h>` | C++程序可以使用，一些新的 IDE 可能不再支持 |
| C 旧式风格  |      以`.h`结尾      |   `<math.h>`   |             C、C++程序可以使用             |
| C++新式风格 |      没有扩展名      |  `<iostream>`  |    C++程序可以使用，使用 namespace std     |
| 转换后的 C  | 加上前缀，没有扩展名 |   `<cmath>`    |   C++程序可以使用，可能包含不是 C 的特性   |

:::

## 命名空间

在 C++中，变量、函数和类都是大量存在的，这些变量、函数和类的名称如果都存在于全局作用域中，可能会导致很多冲突，使用**命名空间**的目的是对标识符的名称进行隔离，以避免命名冲突或名字污染，`namespace`关键字的出现就是针对这种问题的。

`std`是 C++标准库的命名空间名，C++将标准库的定义实现都放到这个命名空间中，当我们需要使用标准库中的内容时，就需要加上：`using namespace std;`当有了这句代码的时候，表示命名空间`std`中信息都是可见和可用的，比如：`cin`、`cout`、`endl`等。

命名空间也是根据需要自己可以定义的。

代码中的`std::cout`的意思就是使用`std`命名空间中的`cout`。

::: warning 注意

采用`std::cout`这种写法，如果频繁使用，在算法竞赛中比较麻烦，耽搁时间。

但是在企业中做软件开发基本上都这样写的，这样写更好的避免名字冲突的问题。

:::

## 数据类型与变量

### 各类型取值范围

|         类型         |                 取值范围                 |    速记最小值     |     速记最大值      |
| :------------------: | :--------------------------------------: | :---------------: | :-----------------: |
|        `char`        |                 -128~127                 |  `CHAR_MIN` -2^7  |  `CHAR_MAX` 2^7-1   |
|   `unsigned char`    |                  0~255                   |        `0`        |  `UCHAR_MAX` 2^8-1  |
|       `short`        |               -32768~32767               | `SHRT_MIN` -2^15  |  `SHRT_MAX` 2^15-1  |
|   `unsigned short`   |                 0~65535                  |        `0`        | `USHRT_MAX` 2^16-1  |
|        `int`         |          -2147483648~2147483647          |  `INT_MIN` -2^31  |  `INT_MAX` 2^31-1   |
|    `unsigned int`    |               0~4294967295               |        `0`        |  `UINT_MAX` 2^32-1  |
|        `long`        | -9223372036854775808~9223372036854775807 | `LONG_MIN` -2^31  |  `LONG_MAX` 2^31-1  |
|   `unsigned long`    |          0~18446744073709551615          |        `0`        | `ULONG_MAX` 2^32-1  |
|     `long long`      | -9223372036854775808~9223372036854775807 | `LLONG_MIN` -2^63 | `LLONG_MAX` 2^63-1  |
| `unsigned long long` |          0~18446744073709551615          |        `0`        | `ULLONG_MAX` 2^64-1 |

为了代码的可移植性，和方便记忆，需要知道某种整数类型的极限值时，经常使用这些速记的符号，`limits.h`文件中说明了整型类型的取值范围。(C++中头文件的名字是`<climits>`)

`float.h`这个头文件中说明浮点型类型的取值范围。(C++中头文件的名字是`<cfloat>`)

### typedef

在 C++中有一个关键字是和类型有关的，是用来给类型重命名的。当有一个类型比较复杂的时候，可以简化类型。`typedef`在竞赛中经常使用，可以提升编码速度。`typedef`使用的基本语法形式：

```c++
typedef <old_type> <new_type>;
```

比如：

```c++
typedef unsigned int ui;
typedef long long ll;
typedef unsigned long long ull;
```

上面代码的意思是将`unsigned int`重命名为`ui`，使用`ui`创建的变量和使用`unsigned int`是一样的，其它几个也是一样的道理。

### 全局变量与局部变量

- **全局变量**：在大括号外部定义的变量就是全局变量

- **局部变量**：在大括号内部定义的变量就是局部变量

当局部变量与全局变量同名的时候，局部变量优先使用。

::: tip 提示

如果想要使用全局变量，必须加上`::`

:::

::: warning 注意

全局变量通常在定义时就被初始化，如果没有明确指定初始值，它们通常会被初始化为 0

局部变量通常不会自动初始化。它们需要在使用之前明确地赋值或初始化。如果没有初始化，它们的值将是未定义的。

:::

::: tip 小提示

如果一个题目可以使用全局变量，又可以使用局部变量，那怎么选择呢？

**如果是在竞赛中：**

能使用全局变量，一般会直接使用全局变量，这样的好处是：

1.变量不需要初始化，因为默认会初始化为 0，这样写会比较块

2.很多时候，会避免传参，因为全局变量到处都可以使用

所以在竞赛中其实哪种方便就使用哪种，全局变量的使用很常见。

但是在企业里软件开发的工程实践中一般建议：能使用局部变量的，尽量减少使用全局变量，因为企业级的开发，代码量比较大，全局变量在任意地方都可以使用，这样就变得不可控了。

:::
